@using RAMMS.Business.ServiceProvider
@model RAMMS.Web.UI.Models.FormWCWGModel;

<div class="col-12">
    <div class="row">
        <div class="col-lg-12">
            <div class="bg-white rounded landing-division w-100 float-left mb-3 border">
                <div class="col-lg-12 py-2 px-4">
                    <span class="font-14 font-weight-bold">
                        JABATAN KERJA RAYA
                    </span>
                </div>
                <div class="border-top px-3 pt-3 pb-1 float-left w-100">
                    <div class="w-100 dt-tbl-section">

                        <div class="row">
                            @for (var i = 0; i < @Model.Division.Divisions.Count; i++)
                            {
                                var div = Model.Division.Divisions[i];
                                if (i == 0)
                                {
                                        <div class="form-group col-lg-4">
                                            <label for="OurRef">Name of Division</label>
                                            <p class="font-weight-bold">@div.Name <br />@div.Adress1<br />@div.Adress2<br />@div.Adress3<br />Phone : @div.Phone<br />Fax : @div.Fax</p>
                                        </div>
                                }

                                if (i == 1)
                                {
                                        <div class="form-group col-lg-4">
                                            <label for="OurRef">
                                                Divisional Address 1
                                            </label>
                                        @*<input type="text" placeholder="" class="form-control">*@
                                            <p class="font-weight-bold">@div.Name <br />@div.Adress1<br />@div.Adress2<br />@div.Adress3<br />Phone : @div.Phone<br />Fax : @div.Fax</p>
                                        </div>
                                }

                                if (i == 2)
                                {
                                        <div class="form-group col-lg-4">
                                            <label for="OurRef">
                                                Divisional Address 2
                                            </label>
                                        @*<input type="text" placeholder="" class="form-control">*@
                                            <p class="font-weight-bold">@div.Name <br />@div.Adress1<br />@div.Adress2<br />@div.Adress3<br />Phone : @div.Phone<br />Fax : @div.Fax</p>
                                        </div>
                                }
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--<div class="col-lg-12">
            <div class="bg-white rounded landing-division w-100 float-left px-3 pt-2 mb-3 border">
                <div class="row">
                    <div class="form-group col-lg-3">
                        <label for="RoadCode">Contract No</label>
                        <input type="text" placeholder="Road name" disabled value="PWD/HO/B130/2019" class="form-control" />
                    </div>-->
        @*<div class="form-group col-lg-3">
            <label for="Your Ref">
            Service Provider's Proposal Ref No
            </label>
            <input type="text" placeholder="" class="form-control" />
            </div>
            <div class="form-group col-lg-3">
            <label for="Your Ref">
            Service Provider Name
            </label>
            <input type="text" placeholder="" class="form-control" />
            </div>*@
        @*<div class="form-group col-lg-2">
            <div class="row mt-4">
            <div class="col-6 pt-1">
            <label class="checkbox-inline"><input type="checkbox" disabled="" value=""> BQ</label>
            </div>
            <div class="col-6 pt-1">
            <label class="checkbox-inline"><input type="checkbox" disabled="" value=""> Drawing</label>
            </div>
            </div>
            </div>*@
        <!--</div>
            </div>
        </div>-->
        <div class="col-lg-12">
            <div class="bg-white rounded landing-division w-100 float-left mb-3 border">
                <div class="col-lg-12 py-2 px-4">
                    <span class="font-14 font-weight-bold">
                        CERTIFICATE OF COMPLETION OF MAKING GOOD DEFECTS
                    </span>
                </div>
                <div class="border-top px-3 pt-3 pb-1 float-left w-100">
                    <div class="row">
                        <div class="form-group col-lg-3">
                            <label for="OurRef">Our Ref / Contract No </label>
                            @Html.TextBoxFor(m => m.FormWG.OurRefNo , new { @id="formWgOurRef", @class="form-control svalidate { required, ' Our Ref/Contract No.' }"})
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="Date">
                                Date
                            </label>
                            @Html.TextBoxFor(m => m.FormWG.DtWg  , new { @id="formWgDate", @type="date", @class="form-control svalidate { required, Date }"})
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="Your Ref">
                             Your Ref No
                            </label>
                             @Html.TextBoxFor(m => m.FormW1.IwRefNo , new { @id="formWgYourRef", @class="form-control svalidate { required, Your Ref }"})
                        </div>
                        <div class="form-group  col-lg-3">
                             @Html.Label("Service Provider Name", "Service Provider Name")
                            @Html.TextBoxFor(Ahdr => Ahdr.FormW1.ServPropName , new { @Id = "formWgServiceProvider", @class = "form-control"  ,@disabled=true})
                        </div>
                        @*<div class="row">
                            <div class="form-group col-lg-6">
                            <label for="Your Ref">
                            Service Provider's Proposal Ref No
                            </label>
                            <input type="text" placeholder="" class="form-control" />
                            </div>
                            <div class="form-group col-lg-6">
                            <label for="Your Ref">
                            Service Provider Name
                            </label>
                            <input type="text" placeholder="" class="form-control" />
                            </div>
                            </div>*@
                        <div class="form-group col-lg-4">
                            <label for="Address1">Address 1</label>
                             @Html.TextBoxFor(Ahdr => Ahdr.FormW1.ServAddress1 , new { @Id = "formWgAdd1", @class = "form-control" ,@disabled=true  })
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="Your Ref">Address 2</label>
                            @Html.TextBoxFor(Ahdr => Ahdr.FormW1.ServAddress2 , new { @Id = "formWgAdd2", @class = "form-control"  ,@disabled=true})
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="Your Ref">Address 3</label>
                            @Html.TextBoxFor(Ahdr => Ahdr.FormW1.ServAddress3 , new { @Id = "formWgAdd3", @class = "form-control"  ,@disabled=true})
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="Phone">Phone Number</label>
                            @Html.TextBoxFor(Ahdr => Ahdr.FormW1.ServPhone , new { @Id = "formWgPhone", @class = "form-control"  ,@disabled=true})
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="Fax">Fax Number</label>
                            @Html.TextBoxFor(Ahdr => Ahdr.FormW1.ServFax , new { @Id = "formWgFax", @class = "form-control"  ,@disabled=true})
                        </div>

                    </div>


                </div>

            </div>

        </div>
        <div class="col-lg-12 d-none">
            <div class="bg-white rounded landing-division w-100 float-left mb-3 border">
                <div class="col-lg-12 py-2 px-4">
                    <span class="font-14 font-weight-bold">
                        INSTRUCTED WORK
                    </span>
                </div>
                <div class="border-top px-3 pt-3 pb-1 float-left w-100">
                    <div class="col-lg-12">
                        <div class="row">
                            <div class="col-lg-4 pl-0">
                                <div class="row">
                                    <div class="col-lg-12 mb-3">
                                        <label class="mb-0" for="S.O.'s Instruction No.">S.O.'s Instruction No.</label>
                                         @Html.TextBoxFor(Ahdr => Ahdr.FormW1.ServPropRefNo , new { @Id = "formWgServPropRefNo", @class = "form-control" })
                                    </div>
                                    <div class="col-lg-12 mb-3">
                                        <label class="mb-0" for="Date of Commencement">Date of Commencement</label>
                                         @Html.TextBoxFor(m => m.FormWG.DtDefectCompl , new { @id="formWgDeftDt", @type="date", @class="form-control svalidate { required, Date }"})
                                    </div>
                                    @*<div class="col-lg-12 mb-3">
                                        <label class="mb-0" for="PhysicalWorks">
                                        Date of Completion
                                        </label>
                                        <input type="date" class="form-control">
                                        </div>*@
                                </div>
                            </div>
                            <div class="col-lg-8">
                                <label class="mb-0" for="Commencement">Instructed Work Title</label>
                                @Html.TextAreaFor(Ahdr => Ahdr.FormW1.ProjectTitle  , new { @Id = "formWgProjectTitle", @class = "form-control" })
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <p class="bg-white rounded landing-division w-100 float-left mb-3 border px-4" style="line-height: 30px; font-size: 18px;">
                <span class="float-left" style="line-height: 55px;"> In accordance with <b style="padding:0px 2px;font-size:20px;">Clause 8.10.8</b> of the Agreement, it is in my opinion that the Defects has been made good on </span><span class="float-left"><input type="date" class="form-control border-top-0 border-left-0 border-right-0 font-weight-bold" value="15/05/2021" style="width:160px;float:left; margin-top:10px" /></span>
            </p>
        </div>
        <div class="col-12">
            <div class="row py-2 px-3">
                <div class="form-group col-lg-2">
                    <label for="Designation"> User ID </label>
                      @Html.DropDownList((IEnumerable<CSelectListItem>)ViewData["User"], "formWgIssuedBy", "Select Users", new { Id = "formWgIssuedBy", @class = "form-control   {required,  Issued by} " })
                </div>
                <div class="form-group col-lg-3">
                    @Html.Label("Name", "Name")
                     @Html.TextBoxFor(w => w.FormWG.UsernameIssu, new {@id = "formWgIssuedName", @class = "form-control svalidate  {required,  Requested by Name}", @disabled = true })
                </div>
                <div class="form-group col-lg-2">
                     @Html.Label("Designation", "Designation")
                     @Html.TextBoxFor(w => w.FormWG.DesignationIssu, new { @id = "formWgIssuedDesig", @class = "form-control svalidate  {required,  Requested by Designation}", @disabled = true })
                </div>
                <div class="form-group col-lg-2 p-0">
                    @Html.Label("Office", "Office")
                    @Html.TextBoxFor(w => w.FormWG.OfficeIssu, new { @id = "formWgIssuedOffice", @class = "form-control svalidate  {required,  Requested by Office}", @disabled = true })
                </div>
                <div class="form-group col-lg-2 pr-0">
                    @Html.Label("(DD-MM-YYYY)", "(DD-MM-YYYY)")
                    @{
                        var vd = Model.FormWG.DtIssu;
                        string _IssuedDate = vd.HasValue ? vd.Value.ToString("yyyy-MM-dd") : "";
                    }
                    <input type="text" class="form-control  svalidate {required, Issue date}" id="formWgIssuedDate" value="@_IssuedDate" disabled />
                </div>
                <div class="form-group col-lg-1 text-center">
                    @Html.Label("Signature", "Signature")
                    @{
                        var _issued = Model.FormWG.SignIssu == null || Model.FormWG.SignIssu == false ? false : true;

                    }
                    <div class="clear-b mt-2">
                        <input type="checkbox" id="formWgIssuedSig" class="disableinput" checked="@_issued" style="height: 20px;">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@Html.HiddenFor(m => m.View, new { @id = "hdnWgView", @class = "form-control", @value = "0" })
@Html.HiddenFor(m => m.FormWG.PkRefNo, new { @id = "hdnWgRefNo", @class = "form-control", @value = "0" })

<input id="hdnForm" type="hidden" value="FormWG" />
<div class="col-md-12 mb-2 float-right text-right custom-footer" style="position: fixed;
    left: auto;
    bottom: 0px;
    right: 0;
    /* top: 0; */
    background:#fff;
    width: 96%;
    height: 45px;">
    <button type="button" class="btn btn-sm btn-outline-theme" onclick="return ClearFCEM()">Clear</button>
    <button type="button" class="btn btn-sm btn-outline-theme" onclick="GoBack()">Close</button>
    <button type="button" class="btn btn-sm btn-themebtn" id="saveWGBtn" onclick="return checkWExist()">Save</button>
    <button type="button" class="btn btn-sm btn-themebtn" id="submitWGBtn">Submit</button>
</div>